!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).EZG={})}(this,(function(e){"use strict";function t(e,t,n,o=!0){return!t.dispatchEvent(new CustomEvent(`ezg${e}`,{detail:n,cancelable:o}))}let n,o,c,s,i,r;const u={threshold:0},a=new WeakMap;function d(e){return e.changedTouches&&(e=e.changedTouches[0]),[e.clientX,e.clientY]}function l(e){e.preventDefault(),n=e.currentTarget,r=!0,[o,c]=d(e),m()}function f(e){if(e.preventDefault(),!n)return;const[t,u]=d(e);if(r){const d=a.get(n);if(Math.hypot(t-o,u-c)<d.threshold)return;r=!1,[s,i]=[t,u],p("dragstart",e)||v()}else p("dragmove",e)&&([s,i]=[t,u])}function h(e){const[t,n]=d(e);return{startX:o,startY:c,lastX:s,lastY:i,clientX:t,clientY:n,offsetX:t-o,offsetY:n-c,movementX:t-s,movementY:n-i}}function v(){n=void 0,m(!0)}function g(e){n&&!r&&p("dragstop",e,!1),v()}function m(e){const t=e?"removeEventListener":"addEventListener";document[t]("mouseup",g),document[t]("touchend",g),document[t]("mousemove",f),document[t]("touchmove",f)}function p(e,o,c=!0){return t(e,n,{...h(o),originalEvent:o},c)}let E,T,b,X,Y,y;Object.keys(Object.getPrototypeOf(new MouseEvent("")));const M={distanceThreshold:0,angleThreshold:0},L=new WeakMap;function w(e){E=e.touches,b=!0,e.currentTarget.addEventListener("touchmove",D)}function D(e){if(e.preventDefault(),2!=e.touches.length)return;const n=O(e.touches);b?function(e,{dist:n,angle:o}){if(2!=E.length)return;const{dist:c,angle:s}=O(E),{distanceThreshold:i,angleThreshold:r}=L.get(e.currentTarget),u=Math.abs(n-c),a=Math.abs(o-s);if(u>=i&&a>=r){if(t("pinchstart",e.currentTarget,{startTouches:E,originalEvent:e}))return elm.removeEventListener("touchmove",D);T=e.currentTarget,X=c,y=s,Y=0,b=!1,document.addEventListener("touchend",j)}}(e,n):function(e,t){const{angle:n,offset:o,dist:c}=t;if(x("move",e.currentTarget,{...t,originalEvent:e,touches:e.touches}))return;X=c,y=n,Y=o}(e,n)}function O(e){const[t,n]=e,o=t.clientX-n.clientX,c=t.clientY-n.clientY,s=Math.hypot(o,c),i=s-X,r=Math.atan2(c,o);return{dx:o,dy:c,da:r-y,dist:s,angle:r,offset:i,midX:(t.clientX+n.clientX)/2,midY:(t.clientY+n.clientY)/2,dir:Math.sign(s-(X||s))}}function j(e){!b&&T&&(x("end",T,null,!1),T=void 0)}function x(e,n,o,c){return t(`pinch${e}`,n,o={...o,startTouches:E,lastTouches:undefined,lastOffset:Y,lastDist:X,lastAngle:y},c)}e.enableDragEvents=function(e,t=u){e.addEventListener("touchstart",l,!0),e.addEventListener("mousedown",l,!0),a.set(e,t)},e.enablePinchEvents=function(e,t=M){L.set(e,t),e.addEventListener("touchstart",w)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.min.js.map
