!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).EZG={})}(this,(function(e){"use strict";let t,n,o,c,s,i;const r={threshold:0},u=new WeakMap;Object.keys(Object.getPrototypeOf(new MouseEvent("")));function a(e){return e.changedTouches&&(e=e.changedTouches[0]),[e.clientX,e.clientY]}function d(e){t=e.currentTarget,i=!0,[n,o]=a(e),v()}function l(e){if(!t)return;const[r,d]=a(e);if(i){const a=u.get(t);if(Math.hypot(r-n,d-o)<a.threshold)return;i=!1,[c,s]=[r,d],m("ezgdragstart",e)||h()}else m("ezgdragmove",e)&&([c,s]=[r,d])}function f(e){const[t,i]=a(e);return{startX:n,startY:o,lastX:c,lastY:s,clientX:t,clientY:i,offsetX:t-n,offsetY:i-o,movementX:t-c,movementY:i-s}}function h(){t=void 0,v(!0)}function g(e){t&&!i&&m("ezgdragstop",e,!1),h()}function v(e){const t=e?"removeEventListener":"addEventListener";document[t]("mouseup",g),document[t]("touchend",g),document[t]("mousemove",l),document[t]("touchmove",l)}function m(e,n,o=!0){return function(e,t,n){return t.dispatchEvent(new CustomEvent(e,n))}(e,t,{detail:{...f(n),originalEvent:n},cancelable:o})}let E,p,T,X,Y,b;const M={distanceThreshold:0,angleThreshold:0},y=new WeakMap;function L(e){E=e.touches,T=!0,e.currentTarget.addEventListener("touchmove",w)}function w(e){if(2!=e.touches.length)return;const t=O(e.touches);T?function(e,{dist:t,angle:n}){if(2!=E.length)return;const{dist:o,angle:c}=O(E),{distanceThreshold:s,angleThreshold:i}=y.get(e.currentTarget),r=Math.abs(t-o),u=Math.abs(n-c);if(r>=s&&u>=i){if(z("pinchstart",e.currentTarget,{startTouches:E,originalEvent:e}))return elm.removeEventListener("touchmove",w);p=e.currentTarget,X=o,b=c,Y=0,T=!1,document.addEventListener("touchend",j)}}(e,t):function(e,t){const{angle:n,offset:o,dist:c}=t;if(x("move",e.currentTarget,{...t,originalEvent:e,touches:e.touches}))return;X=c,b=n,Y=o}(e,t)}function O(e){const[t,n]=e,o=t.clientX-n.clientX,c=t.clientY-n.clientY,s=Math.hypot(o,c),i=s-X,r=Math.atan2(c,o);return{dx:o,dy:c,da:r-b,dist:s,angle:r,offset:i,midX:(t.clientX+n.clientX)/2,midY:(t.clientY+n.clientY)/2,dir:Math.sign(s-(X||s))}}function j(e){!T&&p&&(x("end",p,null,!1),p=void 0)}function x(e,t,n,o){return z(`pinch${e}`,t,n={...n,startTouches:E,lastTouches:undefined,lastOffset:Y,lastDist:X,lastAngle:b},o)}function z(e,t,n,o=!0){return!t.dispatchEvent(new CustomEvent(`ezg${e}`,{detail:n,cancelable:o}))}e.enableDragEvents=function(e,t=r){e.addEventListener("touchstart",d,!0),e.addEventListener("mousedown",d,!0),u.set(e,t)},e.enablePinchEvents=function(e,t=M){y.set(e,t),e.addEventListener("touchstart",L)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.min.js.map
