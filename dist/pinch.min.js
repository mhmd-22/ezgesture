!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).EZG=e.EZG||{})}(this,(function(e){"use strict";function t(e,t,n,i=!0){return!t.dispatchEvent(new CustomEvent(`ezg${e}`,{detail:n,cancelable:i}))}let n,i,o,s,c,r;const a={distanceThreshold:0,angleThreshold:0},u=new WeakMap;function l(e){n=e.touches,o=!0,e.currentTarget.addEventListener("touchmove",d)}function d(e){if(e.preventDefault(),2!=e.touches.length)return;const a=f(e.touches);o?function(e,{dist:a,angle:l}){if(2!=n.length)return;const{dist:g,angle:v}=f(n),{distanceThreshold:p,angleThreshold:T}=u.get(e.currentTarget),m=Math.abs(a-g),E=Math.abs(l-v);if(m>=p&&E>=T){if(t("pinchstart",e.currentTarget,{startTouches:n,originalEvent:e}))return elm.removeEventListener("touchmove",d);i=e.currentTarget,s=g,r=v,c=0,o=!1,document.addEventListener("touchend",h)}}(e,a):function(e,t){const{angle:n,offset:i,dist:o}=t;if(g("move",e.currentTarget,{...t,originalEvent:e,touches:e.touches}))return;s=o,r=n,c=i}(e,a)}function f(e){const[t,n]=e,i=t.clientX-n.clientX,o=t.clientY-n.clientY,c=Math.hypot(i,o),a=c-s,u=Math.atan2(o,i);return{dx:i,dy:o,da:u-r,dist:c,angle:u,offset:a,midX:(t.clientX+n.clientX)/2,midY:(t.clientY+n.clientY)/2,dir:Math.sign(c-(s||c))}}function h(e){!o&&i&&(g("end",i,null,!1),i=void 0)}function g(e,i,o,a){return t(`pinch${e}`,i,o={...o,startTouches:n,lastTouches:undefined,lastOffset:c,lastDist:s,lastAngle:r},a)}e.enablePinchEvents=function(e,t=a){u.set(e,t),e.addEventListener("touchstart",l)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=pinch.min.js.map
