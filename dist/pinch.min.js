!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).EZG=e.EZG||{})}(this,(function(e){"use strict";let t,n,i,o,c,s;const r={distanceThreshold:0,angleThreshold:0},a=new WeakMap;function u(e){t=e.touches,i=!0,e.currentTarget.addEventListener("touchmove",d)}function d(e){if(2!=e.touches.length)return;const r=l(e.touches);i?function(e,{dist:r,angle:u}){if(2!=t.length)return;const{dist:h,angle:v}=l(t),{distanceThreshold:p,angleThreshold:T}=a.get(e.currentTarget),m=Math.abs(r-h),E=Math.abs(u-v);if(m>=p&&E>=T){if(g("pinchstart",e.currentTarget,{startTouches:t,originalEvent:e}))return elm.removeEventListener("touchmove",d);n=e.currentTarget,o=h,s=v,c=0,i=!1,document.addEventListener("touchend",f)}}(e,r):function(e,t){const{angle:n,offset:i,dist:r}=t;if(h("move",e.currentTarget,{...t,originalEvent:e,touches:e.touches}))return;o=r,s=n,c=i}(e,r)}function l(e){const[t,n]=e,i=t.clientX-n.clientX,c=t.clientY-n.clientY,r=Math.hypot(i,c),a=r-o,u=Math.atan2(c,i);return{dx:i,dy:c,da:u-s,dist:r,angle:u,offset:a,midX:(t.clientX+n.clientX)/2,midY:(t.clientY+n.clientY)/2,dir:Math.sign(r-(o||r))}}function f(e){!i&&n&&(h("end",n,null,!1),n=void 0)}function h(e,n,i,r){return g(`pinch${e}`,n,i={...i,startTouches:t,lastTouches:undefined,lastOffset:c,lastDist:o,lastAngle:s},r)}function g(e,t,n,i=!0){return!t.dispatchEvent(new CustomEvent(`ezg${e}`,{detail:n,cancelable:i}))}e.enablePinchEvents=function(e,t=r){a.set(e,t),e.addEventListener("touchstart",u)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=pinch.min.js.map
